{
  "mode": 1,
  "mode_name": "Process Manager and Orchestrator",
  "description": "Real-time process execution, calibration, resource allocation, task prioritization, and dynamic workflow adjustment",
  
  "atomic_tests": [
    {
      "test_id": "mode1_atomic_001",
      "name": "Simple Parameter Calibration",
      "difficulty": 2,
      "prompt": "You are managing a data pipeline with current throughput of 150 records/sec. The target is 200 records/sec. Current batch_size=100, worker_threads=4.\n\nHistorical data shows:\n- Throughput correlates 0.7 with batch_size\n- Throughput correlates 0.4 with worker_threads\n\nWhat parameter adjustment do you recommend? Provide:\n1. Which parameter to adjust\n2. The new value\n3. Expected throughput improvement\n4. Confidence level (0-1)",
      "expected_output_schema": {
        "parameter": "string",
        "new_value": "number",
        "expected_improvement": "string",
        "confidence": "number"
      },
      "scoring_metrics": ["decision_correctness", "calibration_accuracy"],
      "ground_truth": {
        "parameter": "batch_size",
        "new_value_range": [130, 150],
        "reasoning": "batch_size has higher correlation coefficient"
      }
    },
    
    {
      "test_id": "mode1_atomic_002",
      "name": "Resource Allocation Decision",
      "difficulty": 3,
      "prompt": "You have 1 CPU core and 2GB RAM becoming available in 30 seconds.\n\nThree processes are waiting:\n- Process A: Needs 0.8 CPU, 1.5GB RAM, priority=HIGH, ETA 5 min\n- Process B: Needs 0.5 CPU, 1GB RAM, priority=MEDIUM, ETA 2 min\n- Process C: Needs 0.3 CPU, 0.5GB RAM, priority=LOW, ETA 1 min\n\nWhich process should receive the resources? Explain your reasoning.",
      "expected_output_schema": {
        "selected_process": "string",
        "reasoning": "string",
        "alternative_considered": "string"
      },
      "scoring_metrics": ["decision_correctness", "prioritization"],
      "ground_truth": {
        "selected_process": "Process A",
        "key_reasoning": "highest priority with sufficient resources"
      }
    },
    
    {
      "test_id": "mode1_atomic_003",
      "name": "Anomaly Detection",
      "difficulty": 4,
      "prompt": "You are monitoring API response times. Normal behavior: mean=200ms, std=20ms.\n\nLast 10 measurements (ms): [195, 203, 198, 210, 205, 198, 201, 285, 199, 202]\n\nShould you trigger an alert? Why or why not?",
      "expected_output_schema": {
        "trigger_alert": "boolean",
        "reasoning": "string",
        "confidence": "number"
      },
      "scoring_metrics": ["decision_correctness", "false_positive_rate"],
      "ground_truth": {
        "trigger_alert": true,
        "key_point": "285ms is > 4 standard deviations from mean"
      }
    },
    
    {
      "test_id": "mode1_atomic_004",
      "name": "Task Prioritization",
      "difficulty": 3,
      "prompt": "Four tasks need scheduling:\n- Task 1: Critical bug fix, 2 hours, blocks 3 users\n- Task 2: Feature deployment, 4 hours, affects all users\n- Task 3: Database backup, 1 hour, no dependencies\n- Task 4: Performance optimization, 3 hours, improves latency 20%\n\nYou have 6 hours before maintenance window. What order do you execute them?",
      "expected_output_schema": {
        "execution_order": "array",
        "reasoning": "string"
      },
      "scoring_metrics": ["prioritization", "decision_correctness"],
      "ground_truth": {
        "first_task": "Task 1 or Task 3",
        "reasoning": "Critical fixes or independent tasks first"
      }
    }
  ],
  
  "compound_tests": [
    {
      "test_id": "mode1_compound_001",
      "name": "Multi-Process Management",
      "difficulty": 6,
      "prompt": "You are managing three concurrent processes:\n\nETL Pipeline:\n- Current state: 70% CPU, 2GB RAM\n- Priority: HIGH\n- Status: 3rd consecutive validation failure\n- Typical resolution: restart or parameter adjustment\n\nML Training:\n- Current state: 90% GPU, 8GB VRAM\n- Priority: MEDIUM\n- Status: 80% complete, ETA 10 minutes\n- Cost: $2/hour for GPU resources\n\nReport Generation:\n- Current state: 40% CPU, 1GB RAM\n- Priority: LOW\n- Status: Running normally\n- Deadline: 30 minutes\n\nAvailable resources: 1 CPU core, 2GB RAM becoming available in 30 seconds.\n\nWhat actions do you take and in what order? For each action, explain:\n1. What you're doing\n2. Why you're doing it\n3. Expected outcome\n4. Risk if you don't act",
      "expected_output_schema": {
        "actions": [
          {
            "action": "string",
            "target_process": "string",
            "reasoning": "string",
            "expected_outcome": "string",
            "risk_if_not_done": "string"
          }
        ],
        "monitoring_plan": "string"
      },
      "scoring_metrics": [
        "decision_correctness",
        "prioritization",
        "state_management_accuracy"
      ]
    },
    
    {
      "test_id": "mode1_compound_002",
      "name": "Cascading Failure Prevention",
      "difficulty": 7,
      "prompt": "Service dependency chain:\nA → B → C → D\n\nCurrent state:\n- Service A: Response time increased 50% (300ms → 450ms)\n- Service B: Error rate 5% (baseline 0.1%)\n- Service C: Queue depth growing (50 → 200 messages)\n- Service D: Normal operation\n\nMetrics from last cascade failure:\n- Started with 60% slowdown in Service A\n- Full cascade within 8 minutes\n- Recovery took 45 minutes\n\nYou have:\n- Circuit breakers on each service\n- Auto-scaling (5 min warmup)\n- Manual traffic routing capability\n\nWhat is your intervention strategy? Provide:\n1. Immediate actions (next 2 minutes)\n2. Short-term actions (2-10 minutes)\n3. Monitoring thresholds to watch\n4. Rollback plan if intervention fails",
      "expected_output_schema": {
        "immediate_actions": "array",
        "short_term_actions": "array",
        "monitoring_thresholds": "object",
        "rollback_plan": "string"
      },
      "scoring_metrics": [
        "decision_correctness",
        "false_negative_rate",
        "calibration_accuracy"
      ]
    },
    
    {
      "test_id": "mode1_compound_003",
      "name": "Resource Optimization Under Constraints",
      "difficulty": 8,
      "prompt": "You manage a cluster with:\n- 10 CPU cores total\n- 32GB RAM total\n- $100/hour budget\n- 15 active processes\n\nCurrent allocation exceeds budget by 20%. Process details:\n\n| Process | CPU | RAM | Priority | Cost/hr | Replicas | SLA |\n|---------|-----|-----|----------|---------|----------|-----|\n| API-Gateway | 2.0 | 4GB | CRITICAL | $30 | 2 | 99.9% |\n| Auth-Service | 1.5 | 3GB | CRITICAL | $25 | 2 | 99.9% |\n| ML-Inference | 3.0 | 8GB | HIGH | $40 | 1 | 99.0% |\n| Analytics | 2.0 | 8GB | MEDIUM | $20 | 1 | 95.0% |\n| Reporting | 1.0 | 4GB | LOW | $10 | 1 | 90.0% |\n\nConstraints:\n- Cannot reduce CRITICAL service replicas\n- SLA violations cost $500/hour\n- Scaling changes take 5 minutes\n\nHow do you bring the system within budget while minimizing SLA risk?\n\nProvide:\n1. Specific resource adjustments\n2. Expected cost reduction\n3. SLA risk analysis\n4. Fallback plan if SLA breached",
      "expected_output_schema": {
        "adjustments": "array",
        "cost_reduction": "number",
        "sla_risk_analysis": "object",
        "fallback_plan": "string"
      },
      "scoring_metrics": [
        "decision_correctness",
        "calibration_accuracy",
        "prioritization"
      ]
    }
  ],
  
  "integration_tests": [
    {
      "test_id": "mode1_integration_001",
      "name": "Process Manager with Compliance Feedback",
      "difficulty": 7,
      "depends_on": ["mode2_atomic_001"],
      "prompt": "You receive compliance feedback from the Standards Evaluator:\n\n{{mode2_atomic_001.output}}\n\nYour current process has:\n- No rate limiting on public endpoints\n- Missing request size validation\n- Insufficient error logging\n\nImplementing all fixes will:\n- Increase latency by 15ms (current: 200ms)\n- Add 10% CPU overhead\n- Require 2 hours deployment window\n\nYour SLA commits to 250ms response time and 99.9% uptime.\n\nHow do you incorporate these compliance requirements into your process management? Provide:\n1. Implementation priority order\n2. Resource allocation plan\n3. Risk mitigation strategy\n4. Rollout timeline",
      "expected_output_schema": {
        "priority_order": "array",
        "resource_plan": "object",
        "risk_mitigation": "string",
        "timeline": "string"
      },
      "scoring_metrics": [
        "decision_correctness",
        "integration_effectiveness"
      ]
    }
  ],
  
  "adversarial_tests": [
    {
      "test_id": "mode1_adversarial_001",
      "name": "Ambiguous Process State",
      "difficulty": 8,
      "prompt": "Your monitoring shows conflicting signals:\n\nSignal 1 - Application metrics:\n- Response time: 180ms (target: 200ms) ✓\n- Error rate: 0.05% (target: < 0.1%) ✓\n- Throughput: 1200 req/s (normal) ✓\n\nSignal 2 - Infrastructure metrics:\n- CPU: 85% (high)\n- Memory: 90% (high)\n- Disk I/O: 95% (critical)\n- Network: 40% (normal)\n\nSignal 3 - User reports:\n- 5 user complaints about \"slow loading\" in last 10 minutes\n- All from same geographic region (EU)\n- No specific error messages\n\nYour application meets all technical SLAs, but users report issues.\n\nWhat do you do? This requires judgment - explain your reasoning process.",
      "expected_output_schema": {
        "primary_hypothesis": "string",
        "investigation_steps": "array",
        "immediate_action": "string",
        "reasoning": "string"
      },
      "scoring_metrics": [
        "decision_correctness",
        "reasoning_quality"
      ]
    },
    
    {
      "test_id": "mode1_adversarial_002",
      "name": "Resource Allocation Dilemma",
      "difficulty": 9,
      "prompt": "Two critical situations occurring simultaneously:\n\nSituation A: Production database failover in progress\n- Requires immediate attention\n- 15 minutes ETA to restore\n- Affects 100% of users\n- You're the only DBA available\n\nSituation B: Payment processing system showing errors\n- Started 2 minutes ago\n- Error rate climbing: 2% → 8% → 15%\n- Affects financial transactions\n- Could cascade to fraud detection system\n- Payment team lead is investigating but needs your architecture expertise\n\nYou cannot effectively handle both. What do you do?\n\nNote: There is no perfect answer. Demonstrate how you make decisions under impossible constraints.",
      "expected_output_schema": {
        "decision": "string",
        "reasoning": "string",
        "delegation_strategy": "string",
        "escalation_plan": "string",
        "documentation": "string"
      },
      "scoring_metrics": [
        "decision_quality_under_constraint",
        "reasoning_transparency"
      ]
    }
  ],
  
  "scoring_weights": {
    "decision_correctness": 0.30,
    "state_management_accuracy": 0.25,
    "prioritization": 0.20,
    "calibration_accuracy": 0.15,
    "false_positive_rate": 0.05,
    "false_negative_rate": 0.05
  },
  
  "evaluation_criteria": {
    "decision_correctness": {
      "description": "Alignment with ground-truth optimal actions",
      "scale": "0-1",
      "measurement": "Comparison against expert-validated solutions"
    },
    "state_management_accuracy": {
      "description": "Correctness of concurrent state tracking",
      "scale": "0-1",
      "measurement": "Verification of process state understanding"
    },
    "prioritization": {
      "description": "Quality of task ordering decisions",
      "scale": "0-1",
      "measurement": "Alignment with priority heuristics"
    },
    "calibration_accuracy": {
      "description": "Parameter adjustment quality",
      "scale": "0-1",
      "measurement": "1 - |predicted_outcome - actual_outcome|"
    }
  }
}
